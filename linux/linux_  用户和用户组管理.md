#### 用户信息文件/etc/passwd

用户管理简介

- 所以越是对服务器 

#### 

#### 用户影子文件 /etc/shadow

第一字段：用户名

第二字段：加密密码

- 加密算法升级为SHA512散列加密算法
- 如果密码位是“！！”或“*”代表没有密码位，不能登录

第三字段：密码最后一次修改日期

- 使用1970年1月1日作为标准时间，没过一天时间戳加1

第四字段：两次密码的修改间隔时间（和第三字段相比）修改一次之后不能马上又修改

第五字段：密码有限期（和第三字段相比）

第六字段：更改密码的警告时间

第七字段：过期后的宽限天数（和第五字段相比）

- 0：代表密码过期后立即失效
- -1：则代表密码永远不会失效

第八字段：账号失效时间

- 要用时间戳表示

第九字段：保留

#### 组信息文件/etc/group

第一字段：组名

第二字段：组的密码标志

第三字段：GID

第四字段:组中附加用户



#### 组密码文件/etc/gshadow

第一字段：组名

第二字段：组密码：

第三字段：组管理员用户名

第四字段：组中附加用户



#### 用户的家目录

- 普通用户：/home用户名/，所有者和所属组都是此用户，权限是700
- 超级用户：/root/,所有者和所属组都是root用户，权限是550



#### 用户的邮箱

/var/spool/mail/用户名/

linux下邮箱之间相互发邮件是利用计算机的内存做的转发；而163和qq这些邮箱是利用的邮箱服务器做的接受和转发邮件。



#### 用户模板目录

/etc/skel



#### useradd 命令格式

useradd [选项] 用户名

选项：

​	-u UID(数字):手工指定用户的UID号

​	-d家目录：手工指定用户的家目录

​	-c用户说明：	手工指定用户的说明

​	-g组名：手工指定用户的初始组

​	-G组名：指定用户的附加组

​	-s shell:手工指定用户的登录shell,默认是/bin/bash

![image-20201110201301439](/home/tuony/.config/Typora/typora-user-images/image-20201110201301439.png)

#### 用户默认值文件

/etc/default/useradd

- GROUP=100             #用户默认组

  - HOME=/home#用户家目录

    

- INACTIVE=-1  #密码过期宽限天数

- EXPIRE= #默认shell

/etc/login.defs

- PASS_MAX_DAYS 99999 #密码有效期（5）
- PASS_MIN_DAYS 0   #密码修改间隔（4）
- PASS_MIN_LEN 5     #密码最小5位
- PASS_WARN_AGE 7   #密码到期警告（6）
- UID MIN    500      #最小和最大UID范围
- UIN MAX  60000
- ENCRYPT_METHOD   SHA512   #加密模式



#### 用户修改命令passwd

passwd [选项]  用户

-u  解锁用户

-l   锁定用户

-S

#### 修改用户信息usermod

usermod [选项] 用户名

选项：

​	-u UID:	修改用户的UID号

​	-C 用户说明：	修改用户的说明信息

​	-G 组名：	修改用户的附加组

​	-L:	临时锁定用户（LOCK）

​	-U: 解锁用户锁定(UNLOCK)



#### 删除用户userdel

userdel [-r] 用户名

选项：

​	-r 删除用户的同时删除用户家目录

![image-20201110210119487](/home/tuony/.config/Typora/typora-user-images/image-20201110210119487.png)



#### 查看用户ID

id 用户名



#### 切换用户身份 su

su [选项] 用户名

选项：

​	-:选项只是用“-”代表连带用户的环境变量一起切换

​	-c命令：仅指向一次命令，而不切换用户身份

#### 修改用户组

grouomod [选项] 组名

选项：

​	-g GID:  修改组ID

​	-n 新组名：	修改组名

groupmod -n testgrp group1  #把组名group1修改为testgrp



#### 删除用户组groutpdel

groupdel 组名（如果组里面有初始用户，则这个组不能删除）